---
title: "Probability and Statistics"
author: "Mac Strelioff"
date: "2019-08-01 15:39:36"
math: true
output:
  blogdown::html_page:
    toc: true
    toc_depth: 4
menu:
  InsightStudying:
    parent: Foundations
    weight: 20
linktitle: Probability and Statistics
---


<div id="TOC">
<ul>
<li><a href="#probability-foundations">Probability Foundations</a><ul>
<li><a href="#probability-rules">Probability Rules</a></li>
<li><a href="#odds-and-other-transformations">Odds and other transformations</a></li>
<li><a href="#expectation-and-variance">Expectation and Variance</a></li>
<li><a href="#central-limit-theorem">Central limit theorem</a></li>
</ul></li>
<li><a href="#common-tests">Common Tests</a><ul>
<li><a href="#z-test">Z test</a></li>
<li><a href="#t-test">t-test</a></li>
<li><a href="#chi-square">Chi-Square</a></li>
<li><a href="#linear-models">Linear Models</a></li>
</ul></li>
<li><a href="#experiment-design">Experiment Design</a><ul>
<li><a href="#objective-demand-and-value">Objective, demand, and value</a></li>
<li><a href="#constructs-metrics-and-scoping">Constructs, metrics, and scoping</a><ul>
<li><a href="#user-flow-and-target-metrics">User flow and target metrics</a></li>
<li><a href="#invariants">Invariants</a></li>
<li><a href="#confounding-variables">Confounding variables</a></li>
<li><a href="#precision-variables">Precision variables</a></li>
</ul></li>
<li><a href="#metric-validation">Metric Validation</a></li>
<li><a href="#conditions">Conditions</a></li>
<li><a href="#treatment-units">Treatment Units</a></li>
<li><a href="#assignment-mechanism">Assignment Mechanism</a><ul>
<li><a href="#population">Population</a></li>
<li><a href="#cohorts">Cohorts</a></li>
<li><a href="#synthetic-control-groups">Synthetic Control Groups</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul></li>
</ul></li>
<li><a href="#implementation">Implementation</a><ul>
<li><a href="#size">Size</a></li>
<li><a href="#duration">Duration</a><ul>
<li><a href="#temporal-variation">Temporal variation</a></li>
<li><a href="#optional-stopping">Optional stopping</a></li>
</ul></li>
<li><a href="#estimands">Estimands</a></li>
<li><a href="#effiencicy">Effiencicy</a></li>
</ul></li>
<li><a href="#testing">Testing</a><ul>
<li><a href="#binary-or-proportions">Binary or Proportions</a><ul>
<li><a href="#fishers-z">Fisher’s Z</a></li>
</ul></li>
<li><a href="#real-valued">Real-Valued</a><ul>
<li><a href="#regression">Regression</a></li>
</ul></li>
</ul></li>
<li><a href="#linear-models-1">Linear Models</a></li>
<li><a href="#glms">GLMs</a></li>
<li><a href="#emperical-variance-estimation">Emperical Variance Estimation</a></li>
</ul>
</div>

<p>Fermi problems (order of magnitude)</p>
<div id="probability-foundations" class="section level1">
<h1>Probability Foundations</h1>
<p>combinatorics (permutations and combinations)</p>
<div id="probability-rules" class="section level2">
<h2>Probability Rules</h2>
<p>basic probability rules</p>
</div>
<div id="odds-and-other-transformations" class="section level2">
<h2>Odds and other transformations</h2>
<p>odds, log odds, relative risk, … .</p>
</div>
<div id="expectation-and-variance" class="section level2">
<h2>Expectation and Variance</h2>
<p>expectation, variance, conditional or iterated expectations, law of total variance, variance of multiple variables</p>
</div>
<div id="central-limit-theorem" class="section level2">
<h2>Central limit theorem</h2>
<p>Sum of any random variable converges to normal distribution.</p>
<ul>
<li>show for binomial case, to justify Z test</li>
</ul>
</div>
</div>
<div id="common-tests" class="section level1">
<h1>Common Tests</h1>
<div id="z-test" class="section level2">
<h2>Z test</h2>
<p>Normal data</p>
<p>Binary data</p>
</div>
<div id="t-test" class="section level2">
<h2>t-test</h2>
<ul>
<li>different variance formulations.</li>
<li>one-sample</li>
<li>two independent sampels</li>
<li>two dependent samples</li>
</ul>
</div>
<div id="chi-square" class="section level2">
<h2>Chi-Square</h2>
</div>
<div id="linear-models" class="section level2">
<h2>Linear Models</h2>
</div>
</div>
<div id="experiment-design" class="section level1">
<h1>Experiment Design</h1>
<div id="objective-demand-and-value" class="section level2">
<h2>Objective, demand, and value</h2>
<p>Objective is based on a metric (increase clickthrough or revenue per user).</p>
<p>Demand – if adding a new user feature, how can demand for the feature be assessed?</p>
<p>value = benefit - cost.</p>
<p>Expected value helps with decisions about the size and duration of an experiment</p>
</div>
<div id="constructs-metrics-and-scoping" class="section level2">
<h2>Constructs, metrics, and scoping</h2>
<p>Once an objective is clear, the details of what can be measured need to be flushed out.</p>
<p>Metrics (fill in from udamy course section on metrics)</p>
<p>Netflix metrics – streaming hours, retention (users staying on platform), viewing for a title (e.g. effected by artwork – but may be at the detrement of general viewing?)</p>
<div id="user-flow-and-target-metrics" class="section level3">
<h3>User flow and target metrics</h3>
<p>Think of the sequence of actions a user might take on the site. Experiments can target transtition probabilities between any user/platform states.</p>
<ul>
<li>number of clicks</li>
<li>time on page</li>
<li>…</li>
</ul>
</div>
<div id="invariants" class="section level3">
<h3>Invariants</h3>
<p>Metrics that shouldn’t change or differ across groups. For example, demographic variables should be the same across groups if the randomization or balancing worked properly. Also, many application performance metrics and business metrics should be unchanged, or monitored just in case they change.</p>
</div>
<div id="confounding-variables" class="section level3">
<h3>Confounding variables</h3>
<p>Mitigated by randomization.</p>
</div>
<div id="precision-variables" class="section level3">
<h3>Precision variables</h3>
<p>Can also highlight features that one would want to match treatment and control on.</p>
<p>Examples:</p>
<ul>
<li>number of posts</li>
<li>number of followers</li>
<li>visibility / impressions</li>
</ul>
</div>
</div>
<div id="metric-validation" class="section level2">
<h2>Metric Validation</h2>
<p>User expreience research, retrospective analyses of past data or log files, … .</p>
</div>
<div id="conditions" class="section level2">
<h2>Conditions</h2>
<p>Define the experimental manipulations.</p>
</div>
<div id="treatment-units" class="section level2">
<h2>Treatment Units</h2>
<p>What is the unit at which we assign treatments?</p>
<p>Ideally independent individuals, but online it is hard to know who is visiting a webpage, or crucial to keep experiences comparable across devices. Also, in networks, individuals are not independent and it is important to keep user experience consistent across connected individuals.</p>
<p>Proxies for individuals include;</p>
<ul>
<li>User ID or account – most clearly tied to a user, but</li>
<li>cookies – device and browser specific, so these could differ across a user’s browsers or devices.</li>
<li>IP address (device request return address) – device specific, so a user’s experience might differ across devices.</li>
</ul>
<p>In networks, loosely connected clusters of individuals can be used as experimental units (see unofficial google data science blog post on this).</p>
</div>
<div id="assignment-mechanism" class="section level2">
<h2>Assignment Mechanism</h2>
<p>The assignment mechanism samples members from a population and assignes them to conditions.</p>
<p>How are units assigned to treatments?</p>
<p>Randomized control trials are the ideal, but many issues arise in online experimentation settings.</p>
<p>(look up desirable properties form causal inference notes)</p>
<div id="population" class="section level3">
<h3>Population</h3>
<p>What group is being sampled from?</p>
</div>
<div id="cohorts" class="section level3">
<h3>Cohorts</h3>
<p>Random sample, cluster-based, stratified, serial, balanced, …</p>
</div>
<div id="synthetic-control-groups" class="section level3">
<h3>Synthetic Control Groups</h3>
<p>Propensity matching</p>
</div>
<div id="limitations" class="section level3">
<h3>Limitations</h3>
<ul>
<li>Non-compliance: Those assicned to treatment may not actually experience the treatment.</li>
<li>Crossover: Those assigned to control might gain access to the treatment.</li>
</ul>
</div>
</div>
</div>
<div id="implementation" class="section level1">
<h1>Implementation</h1>
<p>Batched, or real-time</p>
<div id="size" class="section level2">
<h2>Size</h2>
<p>power, sample size</p>
</div>
<div id="duration" class="section level2">
<h2>Duration</h2>
<div id="temporal-variation" class="section level3">
<h3>Temporal variation</h3>
</div>
<div id="optional-stopping" class="section level3">
<h3>Optional stopping</h3>
<p>Why it’s an issue for frequentists</p>
<p>Optamizely using a threshold on FDR from likelihood ratio tests in frequentist setting</p>
<p>Bayesian justifications</p>
</div>
</div>
<div id="estimands" class="section level2">
<h2>Estimands</h2>
<ul>
<li>Average treatment effect</li>
<li>Treatment on treated</li>
</ul>
</div>
<div id="effiencicy" class="section level2">
<h2>Effiencicy</h2>
<p>e.g. with a two sample t-test, <span class="math inline">\(Y_t - Y_{t-1} = \beta_0\)</span>, versus a model <span class="math inline">\(Y_t = \beta_0 + \beta_1 Y_{t-1}\)</span></p>
<p>– get table for different tests of means from soc sci 10 notes.</p>
</div>
</div>
<div id="testing" class="section level1">
<h1>Testing</h1>
<div id="binary-or-proportions" class="section level2">
<h2>Binary or Proportions</h2>
<div id="fishers-z" class="section level3">
<h3>Fisher’s Z</h3>
</div>
</div>
<div id="real-valued" class="section level2">
<h2>Real-Valued</h2>
<div id="regression" class="section level3">
<h3>Regression</h3>
</div>
</div>
</div>
<div id="linear-models-1" class="section level1">
<h1>Linear Models</h1>
<p>regression</p>
<p>t-tests</p>
<p>ANOVA</p>
<p>t-test, ANOVA</p>
</div>
<div id="glms" class="section level1">
<h1>GLMs</h1>
<p>Stats: descriptive, R-squared, chi-squared;</p>
<p>Probability: distributions, CLT, sampling distributions, p-value,</p>
<p>Stats: k-s, Q-Q plot, hypothesis testing, experimentation;</p>
<p>Probability: Bayes, bootstrap</p>
<p>Probability: maximum likelihood estimation; time series analysis (ARIMA models), granger causality</p>
<p>Dynamic experimentation (multi-armed bandits)</p>
<p>Unit testing; EDA visualization (seaborn, Plotly, Bokeh)</p>
</div>
<div id="emperical-variance-estimation" class="section level1">
<h1>Emperical Variance Estimation</h1>
<p>bootstrapping</p>
<p>A/A testing</p>
</div>
